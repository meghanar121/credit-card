{"version":3,"sources":["utils.js","index.js"],"names":["clearNumber","value","replace","formatCreditCardNumber","nextValue","issuer","Payment","fns","cardType","clearValue","slice","trim","formatCVC","prevValue","allValues","maxLength","number","formatExpirationDate","length","App","state","name","expiry","cvc","focused","formData","handleCallback","isValid","setState","handleInputFocus","target","handleInputChange","handleSubmit","e","preventDefault","elements","filter","d","reduce","acc","form","reset","data","this","key","className","callback","ref","c","onSubmit","type","placeholder","pattern","required","onChange","onFocus","Object","keys","map","i","React","Component","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ef9f825.chunk.js","sourcesContent":["import Payment from 'payment';\r\n\r\nfunction clearNumber(value = '') {\r\n  return value.replace(/\\D+/g, '');\r\n}\r\n\r\nexport function formatCreditCardNumber(value) {\r\n  if (!value) {\r\n    return value;\r\n  }\r\n\r\n  const issuer = Payment.fns.cardType(value);\r\n  const clearValue = clearNumber(value);\r\n  let nextValue;\r\n\r\n  switch (issuer) {\r\n    case 'amex':\r\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\r\n        4,\r\n        10,\r\n      )} ${clearValue.slice(10, 15)}`;\r\n      break;\r\n    case 'dinersclub':\r\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\r\n        4,\r\n        10,\r\n      )} ${clearValue.slice(10, 14)}`;\r\n      break;\r\n    default:\r\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\r\n        4,\r\n        8,\r\n      )} ${clearValue.slice(8, 12)} ${clearValue.slice(12, 19)}`;\r\n      break;\r\n  }\r\n\r\n  return nextValue.trim();\r\n}\r\n\r\nexport function formatCVC(value, prevValue, allValues = {}) {\r\n  const clearValue = clearNumber(value);\r\n  let maxLength = 4;\r\n\r\n  if (allValues.number) {\r\n    const issuer = Payment.fns.cardType(allValues.number);\r\n    maxLength = issuer === 'amex' ? 4 : 3;\r\n  }\r\n\r\n  return clearValue.slice(0, maxLength);\r\n}\r\n\r\nexport function formatExpirationDate(value) {\r\n  const clearValue = clearNumber(value);\r\n\r\n  if (clearValue.length >= 3) {\r\n    return `${clearValue.slice(0, 2)}/${clearValue.slice(2, 4)}`;\r\n  }\r\n\r\n  return clearValue;\r\n}\r\n\r\nexport function formatFormData(data) {\r\n  return Object.keys(data).map(d => `${d}: ${data[d]}`);\r\n}\r\n","import React from 'react';\nimport { render } from 'react-dom';\nimport Card from 'react-credit-cards';\nimport './App.css';\n//import SupportedCards from './cards';\n\nimport {\n  formatCreditCardNumber,\n  formatCVC,\n  formatExpirationDate,\n  formatFormData,\n} from './utils';\n//import styles from './App.css';\n\nimport 'react-credit-cards/es/styles-compiled.css';\n\nexport default class App extends React.Component {\n  state = {\n    number: '',\n    name: '',\n    expiry: '',\n    cvc: '',\n    issuer: '',\n    focused: '',\n    formData: null,\n  };\n\n  handleCallback = ({ issuer }, isValid) => {\n    if (isValid) {\n      this.setState({ issuer });\n    }\n  };\n\n  handleInputFocus = ({ target }) => {\n    this.setState({\n      focused: target.name,\n    });\n  };\n\n  handleInputChange = ({ target }) => {\n    if (target.name === 'number') {\n      target.value = formatCreditCardNumber(target.value);\n    } else if (target.name === 'expiry') {\n      target.value = formatExpirationDate(target.value);\n    } else if (target.name === 'cvc') {\n      target.value = formatCVC(target.value);\n    }\n\n    this.setState({ [target.name]: target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { issuer } = this.state;\n    const formData = [...e.target.elements]\n      .filter(d => d.name)\n      .reduce((acc, d) => {\n        acc[d.name] = d.value;\n        return acc;\n      }, {});\n\n    this.setState({ formData });\n    this.form.reset();\n  };\n\n  render() {\n    const { name, number, expiry, cvc, focused, issuer, formData } = this.state;\n\n    return (\n      <div key=\"Payment\">\n        <div className=\"App-payment\">\n          <Card\n            number={number}\n            name={name}\n            expiry={expiry}\n            cvc={cvc}\n            focused={focused}\n            callback={this.handleCallback}\n          />\n          <form ref={c => (this.form = c)} onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <input\n                type=\"tel\"\n                name=\"number\"\n                className=\"form-control\"\n                placeholder=\"Card Number\"\n                pattern=\"[\\d| ]{16,0}\"\n                required\n                onChange={this.handleInputChange}\n                onFocus={this.handleInputFocus}\n              />\n              <small>E.g.: 49..., 51..., 36..., 37...</small>\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                name=\"name\"\n                className=\"form-control\"\n                placeholder=\"Name\"\n                required\n                onChange={this.handleInputChange}\n                onFocus={this.handleInputFocus}\n              />\n            </div>\n            <div className=\"row\">\n              <div className=\"col-6\">\n                <input\n                  type=\"tel\"\n                  name=\"expiry\"\n                  className=\"form-control\"\n                  placeholder=\"Valid Thru\"\n                  pattern=\"\\d\\d/\\d\\d\"\n                  required\n                  onChange={this.handleInputChange}\n                  onFocus={this.handleInputFocus}\n                />\n              </div>\n              <div className=\"col-6\">\n                <input\n                  type=\"tel\"\n                  name=\"cvc\"\n                  className=\"form-control\"\n                  placeholder=\"CVC\"\n                  pattern=\"\\d{3,4}\"\n                  required\n                  onChange={this.handleInputChange}\n                  onFocus={this.handleInputFocus}\n                />\n              </div>\n            </div>\n            <input type=\"hidden\" name=\"issuer\" value={issuer} />\n            <div className=\"form-actions\">\n              <button className=\"btn btn-primary btn-block\">PAY</button>\n            </div>\n          </form>\n          {formData && (\n            <div className=\"App-highlight\">\n              {formatFormData(formData).map((d, i) => <div key={i}>{d}</div>)}\n            </div>\n          )}\n\n        </div>\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}